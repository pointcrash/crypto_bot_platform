{% extends 'base.html' %}

{% block content %}

<style>
    .btn-shadow {
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}
</style>

<h3 class="text-center mb-5">Открытые позиции "{{ current_acc }}"</h3>
{% if positions_list %}
<div class="container">
    <div class="card p-3">
        <table class="table" style="vertical-align: middle">
            <thead>
            <tr class="">
                <th>BOT</th>
                <th>SIDE</th>
                <th>SYMBOL</th>
                <th class="d-none d-sm-table-cell">SIZE</th>
                <th class="d-none d-sm-table-cell">ENTRY PRICE</th>
                <th>MARK PRICE</th>
                <th>LIQ PRICE</th>
                <th class="d-none d-md-table-cell">MARGIN</th>
                <th>UNREALIZED PNL</th>
                <th class="d-none d-md-table-cell">ACTIONS</th>
            </tr>
            </thead>
            <tbody>
            {% for bot_id, symbol_list in positions_list %}
            <tr class="">
                <td>{{ bot_id }}</td>
                <td>{{ symbol_list.side }}</td>
                <td>{{ symbol_list.symbol }}</td>
                <td class="d-none d-sm-table-cell">{{ symbol_list.size }}</td>
                <td class="d-none d-sm-table-cell">{{ symbol_list.avgPrice }}</td>
                <td>{{ symbol_list.markPrice }}</td>
                <td>{{ symbol_list.liqPrice }}</td>
                <td class="d-none d-md-table-cell">{{ symbol_list.positionBalance }}</td>
                <td>{{ symbol_list.unrealisedPnl }}</td>
                <td class="d-none d-md-table-cell"><a href="#" class="btn btn-warning me-1 btn-shadow">Calculation</a><a
                        href="#" class="btn-shadow btn btn-success">Start</a></td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% else %}
<h5 class="text-center mt-5">Открытых позиций нет</h5>
{% endif %}
{% endblock %}
